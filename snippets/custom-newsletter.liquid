{% form 'customer', class: 'customer-form' %}
  <div class="email">
    <label for="email">Email</label>
    <input
      type="email"
      id="email"
      name="contact[email]"
      placeholder="Enter your email"
      required
      pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"
    >
    <span class="error-message" id="email-error"></span>
  </div>

  <div class="submit">
    <input type="submit" value="Sign up">
  </div>
{% endform %}

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector(".customer-form");
    const emailInput = document.getElementById("email");
    const emailError = document.getElementById("email-error");

    form.addEventListener("submit", function (event) {
      if (!emailInput.checkValidity()) {
        event.preventDefault();
        emailError.textContent = "Please enter a valid email address.";
        emailError.style.color = "red";
      } else {
        emailError.textContent = "";
      }
    });
  });
</script>
